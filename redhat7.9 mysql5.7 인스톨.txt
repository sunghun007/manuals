### 무료 레포지토리 등록

sudo rm -f /etc/yum.repos.d/CentOS-Base.repo
sudo rm -f /etc/yum.repos.d/CentOS-Updates.repo
sudo rm -f /etc/yum.repos.d/CentOS-Vault.repo

sudo tee /etc/yum.repos.d/CentOS-Vault.repo > /dev/null <<EOF
[base]
name=CentOS-7.9 - Base
baseurl=https://vault.centos.org/7.9.2009/os/x86_64/
enabled=1
gpgcheck=0

[updates]
name=CentOS-7.9 - Updates
baseurl=https://vault.centos.org/7.9.2009/updates/x86_64/
enabled=1
gpgcheck=0

[extras]
name=CentOS-7.9 - Extras
baseurl=https://vault.centos.org/7.9.2009/extras/x86_64/
enabled=1
gpgcheck=0
EOF

sudo yum clean all
sudo yum makecache
sudo yum install -y epel-release


########My sql 5.7 설치

sudo systemctl stop mariadb
sudo yum remove -y mariadb mariadb-server
sudo rm -rf /var/lib/mysql
sudo rm -rf /etc/my.cnf

sudo yum install -y https://repo.mysql.com/mysql57-community-release-el7-11.noarch.rpm
sudo yum repolist enabled | grep mysql

sudo yum-config-manager --disable mysql80-community
sudo yum-config-manager --enable mysql57-community

sudo rm -f /etc/pki/rpm-gpg/RPM-GPG-KEY-mysql
sudo rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022
sudo sed -i 's|file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql|https://repo.mysql.com/RPM-GPG-KEY-mysql-2022|' /etc/yum.repos.d/mysql-community*.repo

sudo yum install -y mysql-community-server

sudo systemctl start mysqld
sudo systemctl enable mysqld

sudo grep 'temporary password' /var/log/mysqld.log  << root 패스워드 확인
mysql -u root -p

ALTER USER 'root'@'localhost' IDENTIFIED BY '1q@';   << 패스워드 변경


